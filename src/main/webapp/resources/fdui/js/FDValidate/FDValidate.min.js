var FDValidate=function(a){this.options=FDLib.util.apply(this.getOptions(),a);this.msgDom=FDLib.getEl(this.options.msgId)};FDValidate.prototype={getOptions:function(){return{rule:{},msgId:"",errorMsg:"",successMsg:"",errorClass:"",successClass:"",validateHandler:null}},setMsgId:function(a){this.options.msgId=a;this.msgDom=FDLib.getEl(this.options.msgId)},showErrorMsg:function(a){if(this.options.errorClass){this.msgDom.className="";FDLib.dom.addClass(this.msgDom,this.options.errorClass)}if(this.msgDom){this.msgDom.innerHTML=a||this.options.errorMsg}},showSuccessMsg:function(a){if(this.options.successClass){this.msgDom.className="";FDLib.dom.addClass(this.msgDom,this.options.successClass)}if(this.msgDom){this.msgDom.innerHTML=a||this.options.successMsg}},validate:function(f){if(typeof this.options.validateHandler==="function"){var b=this.options.validateHandler(f);if(!b){this.showErrorMsg()}return b}var e=this.options.rule;for(var d in e){var a=this.getValueLength(f);if(a===0){if(this.options.rule.notNull){this.showErrorMsg();return false}return true}if(!this.validateLength(f)){return false}var c=e[d];if(c&&!this.validateItem(f,d)){return false}}this.showSuccessMsg();return true},validateLength:function(d){var a=this.getValueLength(d);var c=this.options.rule.minLength||-1;var b=this.options.rule.maxLength||-1;if(c!==-1){if(a<c){this.showErrorMsg();return false}}if(b!==-1){if(a>b){this.showErrorMsg();return false}}return true},validateItem:function(d,a){var c=FDValidateStore;var b=c[a];if(FDLib.util.isFunction(b)){if(!b(d)){this.showErrorMsg();return false}}return true},getValueLength:function(a){if(typeof a==="undefined"){return 0}if(FDLib.util.isArray(a)){return a.length}return(a+"").replace(/[^\x00-\xff]/g,"**").length}};