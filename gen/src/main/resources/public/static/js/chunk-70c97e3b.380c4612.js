(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70c97e3b"],{"2c8b":function(e,t,n){},"92a7":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-backtop"),e._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:16}},[n("el-form",{ref:"dialogForm",attrs:{rules:e.formRules,model:e.formData,size:"mini","label-position":"top"}},[n("el-form-item",{attrs:{prop:"name",label:"模板名称"}},[n("el-input",{attrs:{"show-word-limit":"",maxlength:"64"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"fileName",label:"文件名称"}},[n("el-input",{attrs:{placeholder:"可使用velocity变量","show-word-limit":"",maxlength:"100"},model:{value:e.formData.fileName,callback:function(t){e.$set(e.formData,"fileName",t)},expression:"formData.fileName"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"content",label:"模板内容"}},[n("el-link",{attrs:{type:"primary",underline:!1,href:"https://www.cnblogs.com/codingsilence/archive/2011/03/29/2146580.html",target:"_blank"}},[e._v("Velocity语法")]),e._v(" "),n("codemirror",{ref:"editor",attrs:{options:e.cmOptions},model:{value:e.formData.content,callback:function(t){e.$set(e.formData,"content",t)},expression:"formData.content"}})],1)],1),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("保 存")]),e._v(" "),n("el-button",{on:{click:function(t){return e.goRoute("/template/list")}}},[e._v("返 回")])],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("h3",[e._v("Velocity变量")]),e._v(" "),n("p",{staticClass:"velocity-tip"},[e._v("\n        点击变量直接插入\n      ")]),e._v(" "),e._l(e.treeData,(function(t){return n("div",{key:t.expression,staticClass:"velocity-var"},[t.children?n("div",[n("h4",[e._v(e._s(t.expression))]),e._v(" "),e._l(t.children,(function(t){return n("li",{key:t.expression},[n("a",{on:{click:function(n){return e.onExpressionClick(t.expression)}}},[e._v(e._s(t.expression))]),e._v("："+e._s(t.text)+"\n          ")])}))],2):n("div",[n("li",[n("a",{on:{click:function(n){return e.onExpressionClick(t.expression)}}},[e._v(e._s(t.expression))]),e._v("："+e._s(t.text)+"\n          ")])])])}))],2)],1)],1)},r=[],o=n("8f94");n("bbca");n("fe46");var i={components:{codemirror:o["codemirror"]},data:function(){return{formData:{id:0,name:"",fileName:"",content:""},formRules:{name:[{required:!0,message:"不能为空",trigger:"blur"}],fileName:[{required:!0,message:"不能为空",trigger:"blur"}],content:[{required:!0,message:"不能为空",trigger:"blur"}]},cmOptions:{value:"",mode:"text/velocity",theme:"neat",lineNumbers:!0,readOnly:!1},isVelocityBarFixed:!1,treeData:[{expression:"${pk}",text:"主键对象,同${column}"},{expression:"${context}",text:"",children:[{expression:"${context.dbName}",text:"数据库名"},{expression:"${context.packageName}",text:"包名"},{expression:"${context.javaBeanName}",text:"Java类名"},{expression:"${context.javaBeanNameLF}",text:"Java类名且首字母小写"},{expression:"${context.pkName}",text:"表主键名"},{expression:"${context.javaPkName}",text:"表主键对应的java字段名"},{expression:"${context.javaPkType}",text:"主键的java类型"},{expression:"${context.mybatisPkType}",text:"主键对应的mybatis类型"}]},{expression:"${table}",text:"",children:[{expression:"${table.tableName}",text:"数据库表名"},{expression:"${table.comment}",text:"表注释"}]},{expression:"#foreach($column in $columns) #end",text:"",children:[{expression:"${velocityCount}",text:"foreach循环下标，从1开始"},{expression:"${column.columnName}",text:"表中字段名"},{expression:"${column.type}",text:"字段的数据库类型"},{expression:"${column.javaFieldName}",text:"java字段名"},{expression:"${column.javaFieldNameUF}",text:"java字段名首字母大写"},{expression:"${column.javaType}",text:"字段的java类型"},{expression:"${column.javaTypeBox}",text:"字段的java装箱类型,如Integer"},{expression:"${column.isIdentity}",text:"是否自增,返回boolean"},{expression:"${column.isPk}",text:"是否主键,返回boolean"},{expression:"${column.isIdentityPk}",text:"是否自增主键,返回boolean"},{expression:"${column.mybatisJdbcType}",text:"mybatis定义的jdbcType"},{expression:"${column.comment}",text:"字段注释"}]}],defaultProps:{children:"children",label:"text"}}},created:function(){var e=this.$route.params.id||0;e>0&&this.post("/template/get/".concat(e),{},(function(e){this.formData=e.data}))},methods:{onExpressionClick:function(e){var t=this.$refs.editor.codemirror;t.replaceSelection(e),t.focus()},onSave:function(){var e=this;this.$refs.dialogForm.validate((function(t){if(t){var n=e.formData.id?"update":"add",a="/template/".concat(n);e.post(a,e.formData,(function(t){"add"===n&&(e.formData.id=t.data.id),e.tip("保存成功")}))}}))}}},s=i,l=(n("acc7"),n("2877")),c=Object(l["a"])(s,a,r,!1,null,null,null);t["default"]=c.exports},acc7:function(e,t,n){"use strict";var a=n("2c8b"),r=n.n(a);r.a},bbca:function(e,t,n){},fe46:function(e,t,n){(function(e){e(n("56b3"))})((function(e){"use strict";e.defineMode("velocity",(function(){function e(e){for(var t={},n=e.split(" "),a=0;a<n.length;++a)t[n[a]]=!0;return t}var t=e("#end #else #break #stop #[[ #]] #{end} #{else} #{break} #{stop}"),n=e("#if #elseif #foreach #set #include #parse #macro #define #evaluate #{if} #{elseif} #{foreach} #{set} #{include} #{parse} #{macro} #{define} #{evaluate}"),a=e("$foreach.count $foreach.hasNext $foreach.first $foreach.last $foreach.topmost $foreach.parent.count $foreach.parent.hasNext $foreach.parent.first $foreach.parent.last $foreach.parent $velocityCount $!bodyContent $bodyContent"),r=/[+\-*&%=<>!?:\/|]/;function o(e,t,n){return t.tokenize=n,n(e,t)}function i(e,i){var u=i.beforeParams;i.beforeParams=!1;var m=e.next();if("'"==m&&!i.inString&&i.inParams)return i.lastTokenWasBuiltin=!1,o(e,i,s(m));if('"'!=m){if(/[\[\]{}\(\),;\.]/.test(m))return"("==m&&u?i.inParams=!0:")"==m&&(i.inParams=!1,i.lastTokenWasBuiltin=!0),null;if(/\d/.test(m))return i.lastTokenWasBuiltin=!1,e.eatWhile(/[\w\.]/),"number";if("#"==m&&e.eat("*"))return i.lastTokenWasBuiltin=!1,o(e,i,l);if("#"==m&&e.match(/ *\[ *\[/))return i.lastTokenWasBuiltin=!1,o(e,i,c);if("#"==m&&e.eat("#"))return i.lastTokenWasBuiltin=!1,e.skipToEnd(),"comment";if("$"==m)return e.eatWhile(/[\w\d\$_\.{}-]/),a&&a.propertyIsEnumerable(e.current())?"keyword":(i.lastTokenWasBuiltin=!0,i.beforeParams=!0,"builtin");if(r.test(m))return i.lastTokenWasBuiltin=!1,e.eatWhile(r),"operator";e.eatWhile(/[\w\$_{}@]/);var p=e.current();return t&&t.propertyIsEnumerable(p)?"keyword":n&&n.propertyIsEnumerable(p)||e.current().match(/^#@?[a-z0-9_]+ *$/i)&&"("==e.peek()&&(!n||!n.propertyIsEnumerable(p.toLowerCase()))?(i.beforeParams=!0,i.lastTokenWasBuiltin=!1,"keyword"):i.inString?(i.lastTokenWasBuiltin=!1,"string"):e.pos>p.length&&"."==e.string.charAt(e.pos-p.length-1)&&i.lastTokenWasBuiltin?"builtin":(i.lastTokenWasBuiltin=!1,null)}return i.lastTokenWasBuiltin=!1,i.inString?(i.inString=!1,"string"):i.inParams?o(e,i,s(m)):void 0}function s(e){return function(t,n){var a,r=!1,o=!1;while(null!=(a=t.next())){if(a==e&&!r){o=!0;break}if('"'==e&&"$"==t.peek()&&!r){n.inString=!0,o=!0;break}r=!r&&"\\"==a}return o&&(n.tokenize=i),"string"}}function l(e,t){var n,a=!1;while(n=e.next()){if("#"==n&&a){t.tokenize=i;break}a="*"==n}return"comment"}function c(e,t){var n,a=0;while(n=e.next()){if("#"==n&&2==a){t.tokenize=i;break}"]"==n?a++:" "!=n&&(a=0)}return"meta"}return{startState:function(){return{tokenize:i,beforeParams:!1,inParams:!1,inString:!1,lastTokenWasBuiltin:!1}},token:function(e,t){return e.eatSpace()?null:t.tokenize(e,t)},blockCommentStart:"#*",blockCommentEnd:"*#",lineComment:"##",fold:"velocity"}})),e.defineMIME("text/velocity","velocity")}))}}]);