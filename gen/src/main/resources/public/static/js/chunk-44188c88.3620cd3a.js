(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44188c88"],{"0a49":function(e,t,a){var n=a("9b43"),r=a("626a"),o=a("4bf8"),i=a("9def"),l=a("cd1c");e.exports=function(e,t){var a=1==e,s=2==e,c=3==e,u=4==e,f=6==e,m=5==e||f,p=t||l;return function(t,l,d){for(var v,h,g=o(t),b=r(g),k=n(l,d,3),y=i(b.length),_=0,x=a?p(t,y):s?p(t,0):void 0;y>_;_++)if((m||_ in b)&&(v=b[_],h=k(v,_,g),e))if(a)x[_]=h;else if(h)switch(e){case 3:return!0;case 5:return v;case 6:return _;case 2:x.push(v)}else if(u)return!1;return f?-1:c||u?u:x}}},1169:function(e,t,a){var n=a("2d95");e.exports=Array.isArray||function(e){return"Array"==n(e)}},"2c8b":function(e,t,a){},7514:function(e,t,a){"use strict";var n=a("5ca1"),r=a("0a49")(5),o="find",i=!0;o in[]&&Array(1)[o]((function(){i=!1})),n(n.P+n.F*i,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(o)},"92a7":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-backtop"),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:16}},[a("el-form",{ref:"dialogForm",attrs:{rules:e.formRules,model:e.formData,size:"mini","label-position":"top"}},[a("el-form-item",{attrs:{prop:"groupId",label:"组名称"}},[a("el-select",{attrs:{placeholder:"选择模板所在组"},on:{change:e.onDataGroupChange},model:{value:e.formData.groupId,callback:function(t){e.$set(e.formData,"groupId",t)},expression:"formData.groupId"}},e._l(e.groupData,(function(e){return a("el-option",{key:e.id,attrs:{label:""+e.groupName,value:e.id}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"name",label:"模板名称"}},[a("el-input",{attrs:{"show-word-limit":"",maxlength:"64"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"fileName",label:"文件名称"}},[a("el-input",{attrs:{placeholder:"可使用velocity变量","show-word-limit":"",maxlength:"100"},model:{value:e.formData.fileName,callback:function(t){e.$set(e.formData,"fileName",t)},expression:"formData.fileName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"content",label:"模板内容"}},[a("el-link",{attrs:{type:"primary",underline:!1,href:"https://www.cnblogs.com/codingsilence/archive/2011/03/29/2146580.html",target:"_blank"}},[e._v("Velocity语法")]),e._v(" "),a("codemirror",{ref:"editor",attrs:{options:e.cmOptions},model:{value:e.formData.content,callback:function(t){e.$set(e.formData,"content",t)},expression:"formData.content"}})],1)],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("保 存")]),e._v(" "),a("el-button",{on:{click:function(t){return e.goRoute("/template/list")}}},[e._v("返 回")])],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("h3",[e._v("Velocity变量")]),e._v(" "),a("p",{staticClass:"velocity-tip"},[e._v("\n        点击变量直接插入\n      ")]),e._v(" "),a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.onTabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.velocityConfig,(function(e){return a("el-tab-pane",{key:e.name,attrs:{label:e.label,name:e.name,content:e}})})),1),e._v(" "),e._l(e.treeData,(function(t){return a("div",{key:t.expression,staticClass:"velocity-var"},[t.children?a("div",[a("h4",[e._v(e._s(t.expression))]),e._v(" "),e._l(t.children,(function(t){return a("li",{key:t.expression},[a("a",{on:{click:function(a){return e.onExpressionClick(t.expression)}}},[e._v(e._s(t.expression))]),e._v("："+e._s(t.text)+"\n          ")])}))],2):a("div",[a("li",[a("a",{on:{click:function(a){return e.onExpressionClick(t.expression)}}},[e._v(e._s(t.expression))]),e._v("："+e._s(t.text)+"\n          ")])])])}))],2)],1)],1)},r=[],o=(a("7514"),a("8f94"));a("bbca");a("fe46");var i={components:{codemirror:o["codemirror"]},data:function(){return{groupData:{},formData:{id:0,groupId:"",groupName:"",name:"",fileName:"",content:""},formRules:{groupId:[{required:!0,message:"不能为空",trigger:"blur"}],name:[{required:!0,message:"不能为空",trigger:"blur"}],fileName:[{required:!0,message:"不能为空",trigger:"blur"}],content:[{required:!0,message:"不能为空",trigger:"blur"}]},cmOptions:{value:"",mode:"text/velocity",theme:"neat",lineNumbers:!0,readOnly:!1},isVelocityBarFixed:!1,activeName:"java",treeData:[],velocityConfig:[],defaultProps:{children:"children",label:"text"}}},created:function(){var e=this.$route.params.id||0;e>0&&this.post("/template/get/".concat(e),{},(function(e){this.formData=e.data})),this.loadVelocityVar(),this.loadGroups()},methods:{loadVelocityVar:function(){var e=this;this.getFile("velocity/java.json?q=".concat((new Date).getTime()),(function(t){e.velocityConfig.push({name:"java",label:"Java变量",data:t.data}),e.treeData=t.data})),this.getFile("velocity/csharp.json?q=".concat((new Date).getTime()),(function(t){e.velocityConfig.push({name:"csharp",label:"C#变量",data:t.data})}))},loadGroups:function(){this.post("/group/list/",{},(function(e){this.groupData=e.data}))},onDataGroupChange:function(e){var t=this;console.log(e),this.formData.groupId=e,this.groupData.find((function(a){a.id===e&&(t.formData.groupName=a.groupName)})),console.log(this.formData.groupName)},onExpressionClick:function(e){var t=this.$refs.editor.codemirror;t.replaceSelection(e),t.focus()},onSave:function(){var e=this;this.$refs.dialogForm.validate((function(t){if(t){var a=e.formData.id?"update":"add",n="/template/".concat(a);e.post(n,e.formData,(function(t){"add"===a&&(e.formData.id=t.data.id),e.tip("保存成功")}))}}))},onTabClick:function(e){var t=e.$attrs.content;this.treeData=t.data}}},l=i,s=(a("acc7"),a("2877")),c=Object(s["a"])(l,n,r,!1,null,null,null);t["default"]=c.exports},acc7:function(e,t,a){"use strict";a("2c8b")},bbca:function(e,t,a){},cd1c:function(e,t,a){var n=a("e853");e.exports=function(e,t){return new(n(e))(t)}},e853:function(e,t,a){var n=a("d3f4"),r=a("1169"),o=a("2b4c")("species");e.exports=function(e){var t;return r(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!r(t.prototype)||(t=void 0),n(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},fe46:function(e,t,a){(function(e){e(a("56b3"))})((function(e){"use strict";e.defineMode("velocity",(function(){function e(e){for(var t={},a=e.split(" "),n=0;n<a.length;++n)t[a[n]]=!0;return t}var t=e("#end #else #break #stop #[[ #]] #{end} #{else} #{break} #{stop}"),a=e("#if #elseif #foreach #set #include #parse #macro #define #evaluate #{if} #{elseif} #{foreach} #{set} #{include} #{parse} #{macro} #{define} #{evaluate}"),n=e("$foreach.count $foreach.hasNext $foreach.first $foreach.last $foreach.topmost $foreach.parent.count $foreach.parent.hasNext $foreach.parent.first $foreach.parent.last $foreach.parent $velocityCount $!bodyContent $bodyContent"),r=/[+\-*&%=<>!?:\/|]/;function o(e,t,a){return t.tokenize=a,a(e,t)}function i(e,i){var u=i.beforeParams;i.beforeParams=!1;var f=e.next();if("'"==f&&!i.inString&&i.inParams)return i.lastTokenWasBuiltin=!1,o(e,i,l(f));if('"'!=f){if(/[\[\]{}\(\),;\.]/.test(f))return"("==f&&u?i.inParams=!0:")"==f&&(i.inParams=!1,i.lastTokenWasBuiltin=!0),null;if(/\d/.test(f))return i.lastTokenWasBuiltin=!1,e.eatWhile(/[\w\.]/),"number";if("#"==f&&e.eat("*"))return i.lastTokenWasBuiltin=!1,o(e,i,s);if("#"==f&&e.match(/ *\[ *\[/))return i.lastTokenWasBuiltin=!1,o(e,i,c);if("#"==f&&e.eat("#"))return i.lastTokenWasBuiltin=!1,e.skipToEnd(),"comment";if("$"==f)return e.eatWhile(/[\w\d\$_\.{}-]/),n&&n.propertyIsEnumerable(e.current())?"keyword":(i.lastTokenWasBuiltin=!0,i.beforeParams=!0,"builtin");if(r.test(f))return i.lastTokenWasBuiltin=!1,e.eatWhile(r),"operator";e.eatWhile(/[\w\$_{}@]/);var m=e.current();return t&&t.propertyIsEnumerable(m)?"keyword":a&&a.propertyIsEnumerable(m)||e.current().match(/^#@?[a-z0-9_]+ *$/i)&&"("==e.peek()&&(!a||!a.propertyIsEnumerable(m.toLowerCase()))?(i.beforeParams=!0,i.lastTokenWasBuiltin=!1,"keyword"):i.inString?(i.lastTokenWasBuiltin=!1,"string"):e.pos>m.length&&"."==e.string.charAt(e.pos-m.length-1)&&i.lastTokenWasBuiltin?"builtin":(i.lastTokenWasBuiltin=!1,null)}return i.lastTokenWasBuiltin=!1,i.inString?(i.inString=!1,"string"):i.inParams?o(e,i,l(f)):void 0}function l(e){return function(t,a){var n,r=!1,o=!1;while(null!=(n=t.next())){if(n==e&&!r){o=!0;break}if('"'==e&&"$"==t.peek()&&!r){a.inString=!0,o=!0;break}r=!r&&"\\"==n}return o&&(a.tokenize=i),"string"}}function s(e,t){var a,n=!1;while(a=e.next()){if("#"==a&&n){t.tokenize=i;break}n="*"==a}return"comment"}function c(e,t){var a,n=0;while(a=e.next()){if("#"==a&&2==n){t.tokenize=i;break}"]"==a?n++:" "!=a&&(n=0)}return"meta"}return{startState:function(){return{tokenize:i,beforeParams:!1,inParams:!1,inString:!1,lastTokenWasBuiltin:!1}},token:function(e,t){return e.eatSpace()?null:t.tokenize(e,t)},blockCommentStart:"#*",blockCommentEnd:"*#",lineComment:"##",fold:"velocity"}})),e.defineMIME("text/velocity","velocity")}))}}]);